<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>JGit 3.0 New and Noteworthy - API Changes and Migration Hints</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">API Changes and Migration Hints</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Performance-Improvements.html" title="Performance Improvements">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Bug-Fixes.html" title="Bug Fixes">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Performance Improvements</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Bug Fixes</td>
			</tr>
		</table><hr/>
		<h1 id="API_Changes_and_Migration_Hints">API Changes and Migration Hints</h1>
		<p>Details of API changes in 3.0 compared to the previous release 2.3.1 are available in the Clirr API change report linked from the 
			<a href="http://www.eclipse.org/jgit/download/" target="egit_external">JGit download page</a>.
		</p>
		<h3 id="Internal_storage_API_moved_to_internal_packages">Internal storage API moved to internal packages</h3>
		<p>Applications are not supposed to build against the internal storage API unless they can accept API churn and make necessary updates as versions change.</p>
		<ul>
			<li>package org.eclipse.jgit.storage.dfs was moved to org.eclipse.jgit.internal.storage.dfs</li>
			<li>package org.eclipse.jgit.storage.file was moved to org.eclipse.jgit.internal.storage.file</li>
		</ul>
		<p>In order to construct specific Repository instances use the respective builder classes:</p>
		<ul>
			<li>org.eclipse.jgit.storage.file.FileRepositoryBuilder</li>
			<li>org.eclipse.jgit.internal.storage.dfs.DfsRepositoryBuilder</li>
		</ul>
		<h3 id="WindowCache_reconfiguration">WindowCache reconfiguration</h3>
		<p>Instead of </p>
		<pre style="width: 55em;">
WindowCacheConfig c = new WindowCacheConfig();
... set new configuration params ...
WindowCache.reconfigure(c);
</pre>
		<p>use</p>
		<pre style="width: 55em;">
WindowCacheConfig c = new WindowCacheConfig();
... set new configuration params ...
WIndowCacheConfig.install()
</pre>
		<h3 id="FollowFilter_requires_DiffConfig">FollowFilter requires DiffConfig</h3>
		<p>Creation of a FollowFilter now needs an explicit DiffConfig, this was necessary to fix an NPE (see 
			<a href="https://git.eclipse.org/r/#/c/12499" target="egit_external">https://git.eclipse.org/r/#/c/12499</a>)
		</p>
		<pre style="width: 55em;">
public static FollowFilter create(String path, DiffConfig cfg)
</pre>
		<h3 id="Reflog_interfaces_moved">Reflog interfaces moved</h3>
		<p>The interfaces ReflogReader and ReflogEntry exposed by ReflogCommand and Repository were moved to package org.eclipse.jgit.lib.</p><hr/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Performance-Improvements.html" title="Performance Improvements">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="3.0.html" title="JGit 3.0 New and Noteworthy">
						<img alt="JGit 3.0 New and Noteworthy" border="0" src="../../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Bug-Fixes.html" title="Bug Fixes">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Performance Improvements</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Bug Fixes</td>
			</tr>
		</table>
	</body>
</html>